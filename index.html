<!doctype html>
<html lang="en">

<style>
    @import url('https://fonts.cdnfonts.com/css/acumin-pro');
    :root {
    --container-sm: 25vw;
    --orange-ari: #E57358;

    }
    
    * {
        font-family: 'Acumin Pro', sans-serif;
    }
    
    .container{
        width: 100%;
        margin: 0 auto !important;
    }    

    #navigation {
        display: flex;
        align-items: center;
        margin-bottom: 24px;
        padding: 0;
    }

    .nav {
        background-color: #F5F6FA;
        color: #848587;
        border-radius: 20px;
        height: 40px;
        font-size: 10px;
    }


    .nav-item {
        padding: 0 4px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 700;
        cursor: pointer;
    }

    .abc {
        background-color: #F5F6FA;
        border-radius: 17px;
        height: max-content;
    }


    #content-timeline {
        padding: 0;
        padding-bottom: 27px;
        margin-left: 60px;
        margin-right: 60px;
        width: auto;
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
    }

    .content-timeline-header {
        margin-bottom: 24px;
        margin-left: 35px;
        padding-top: 22px;
        font-size: 28px;
        display: flex;
        align-items: center;
        gap: 14px;
    }

    .timeline-year {
        color: #002856;
    }


    .timeline-container {
        display: flex;
        align-items: baseline;
        margin-bottom: 20px;
        font-size: 14px;
    }

    .circle {
        content: "";
        border-radius: 50%;
        height: 7px;
        width: 7px;
        min-height: 7px;
        min-width: 7px;
        max-width: 7px;
        max-height: 7px;
        background-color: #E57358;
        z-index: 1;
    }

    .timeline-text {
        padding-left: 44px;
    }

    .line {
        height: 300px;
        width: 1px;
        background-color: #848587;
        margin-left: 3px;
        margin-top: 10px !important;
        z-index: 0;
        position: absolute;
    }

    .active{
        background-color: white;
        color: var(--orange-ari);
        border-radius: 17.5px;
        margin: 3px !important;
    }

    #myPills .nav-item:not(.layout-active) {
        display: none;
    }

    .hidden{
        display: none;
    }   

    .pill-bar{
        display: flex;
        justify-content: space-between;
        width: 100%;
        padding: 0
    }

    .pill-bar>li{
        min-width: 60px;
        width: 50%;
    }

    .size-24{
        width: 24px;
        height: 24px;
    }

    .relative{
        position: relative;
    }

    .button-container{
        margin: 0 20px !important;
    }
    
    .button-show-more{
        height: 46px;
        width: 100%;
        background-color: #000000;
        color: white;
        border-radius: 23px;
        margin-top: 33px !important;
    }

    #timeline{
        margin: 0 20px !important;
    }

    .disabled-arrow{
        color: black;
        opacity: 0.2;
        cursor: unset !important;
    }

    /* Media queries examples */
    @media screen and (max-width: 425px){
        .nav-item{
            font-size: 8px;
        }
        .timeline-year{
            font-size: 28px;
        }
        #navigation{
            margin-left: 10px;
            margin-right: 10px;
        }
        .pill-bar>li{
            min-width: unset;
            width: 50%;
        }
        .pill-bar>li:nth-child(n+3){
            display: none;
        }
    }

    @media screen and (min-width: 576px){        
        .container{
            max-width: 540px;
        }
        .button-show-more{
            width: 241px;
        }
    }
    @media screen and (min-width: 768px){
        .nav-item{
            font-size: 10px;
        }
        
        .container{
            max-width: 720px;
        }
        .pill-bar>li{
            min-width: unset;
            width: 20%;
        }
    }

    @media screen and (min-width: 992px){
        .nav-item{
            font-size: 10px;
        }
        
        .container{
            max-width: calc(960px - var(--container-sm));
        }
        .pill-bar>li{
            min-width: unset;
            width: 14.28%;
        }
    }
    @media screen and (min-width: 1200px){
        .nav-item{
            font-size: 10px;
        }
        
        .container{
            max-width: calc(1140px - var(--container-sm));
        }
    }
    @media screen and (min-width: 1400px){
        .nav-item{
            font-size: 10px;
        }
        
        .container{
            max-width: calc(1320px - var(--container-sm));
        }
    }

   
   


   </style>

    <body>
    <div class="container">
        <h1 style="color: #002856; margin-bottom: 32px; font-weight: 700px; font-size: 40px; margin-left: 20px;"> Team Awards </h1>

        <!-- Need help here with the javascript. Need to make arrows so that when they are clicked jumps to the next pill -->
        <div id="navigation">
            <div style="flex-grow: 0; display: flex;">
                <button class="disabled-arrow" style="border: none; background-color: transparent; display: flex; color:#848587; cursor: pointer;" id="chevron_left">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-24">
                        <path fillRule="evenodd" d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z" clipRule="evenodd" />
                    </svg>
                </button>
            </div>
            <div style="flex-grow: 1;">
                <ul class="nav nav-pills nav-fill pill-bar" id="myPills">
                    <!-- Here goes the new dynamically generated pills-->
                </ul>
            </div>

            <div style="flex-grow: 0; display: flex;">
                <button
                    style="border: none; background-color: transparent; color:#848587; display: flex; cursor: pointer;" id="chevron_right">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-24">
                        <path fillRule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clipRule="evenodd" />
                    </svg>
                </button>
            </div>
        </div>

        <div class="" id="timeline" style="overflow: hidden;">
            <!-- Here goes the new dynamically generated cards-->
        </div>

        <div class="button-container">
            <button class="button-show-more hidden" id="button-show-more">
                View
                More
            </button>
        </div>
    </div>

    <script>

    const people = [
        {
            name: "Eric Bouskila",
            awardContent: [
                {
                    year: 2023,
                    awards: [
                        "Forbes Best In State Financial Security Professionals",
                        "Forbes Top 100 Financial Security Professionals",
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2022,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2021,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "Life Quality Business Award"
                    ]
                },
                {
                    year: 2020,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2019,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "Life Quality Business Award"
                    ]
                },
                {
                    year: 2018,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "Life Quality Business Award"
                    ]
                },
                {
                    year: 2017,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "Life Quality Business Award"
                    ]
                },
                {
                    year: 2016,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "Life Quality Business Award"
                    ]
                },
                {
                    year: 2015,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "Life Quality Business Award"
                    ]
                },
                {
                    year: 2014,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2013,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "Chairman’s Council (Million Dollar Club)",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2012,
                    awards: [
                        "#1 National Life Premium Sales Leadership Award",
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2011,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2002,
                    awards: [
                        "Key to Miami-Dade County"
                    ]
                }
            ]
        },
        {
            name: "Jordan Mimoun",
            awardContent: [
                {
                    year: 2023,
                    awards: [
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2022,
                    awards: [
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "Top 10 Life Premiums Award #10"
                    ]
                },
                {
                    year: 2021,
                    awards: [
                        "Alliance Financial Group Life Premium Leader #1",
                        "New York Life Recognition of $1M+ in Production",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2020,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Alliance Financial Group Life Premium Leader #1",
                        "Alliance Financial Group New Associate of the Year",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2019,
                    awards: [
                        "Leader’s Club"
                    ]
                }
            ]
        },
        {
            name: "Ronn Gottfried",
            awardContent: [
                {
                    year: 2022,
                    awards: [
                        "Executive Club",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2021,
                    awards: [
                        "Alliance Fincancial Group Million Dollar Round Table",
                        "Alliance Financial Group Life Premium Leader #2",
                        "Executive Club",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2020,
                    awards: [
                        "Alliance Fincancial Group Million Dollar Round Table",
                        "Alliance Financial Group Life Premium Leader #2",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2019,
                    awards: [
                        "Leaders club"
                    ]
                },
                {
                    year: 2018,
                    awards: [
                        "Alliance Fincancial Group Million Dollar Round Table",
                        "Alliance Financial Group Life Premium Leader #1"
                    ]
                }
            ]
        },
        {
            name: "Peter Harjes",
            awardContent: [
                {
                    year: 2023,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Executive Club",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2022,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2021,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2020,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table"
                    ]
                },
                {
                    year: 2019,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Executive Club",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2018,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2017,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table"
                    ]
                },
                {
                    year: 2016,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2015,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table",
                        "Leaders Club"
                    ]
                },
                {
                    year: 2014,
                    awards: [
                        "Alliance Financial Group Million Dollar Round Table"
                    ]
                }
            ]
        },
        {
            name: "Ligia Braun",
            awardContent: [
                {
                    year: 2023,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2022,
                    awards: [
                        "Alliance Financial Group New Associate of the Year",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2021,
                    awards: [
                        "Leader’s Club"
                    ]
                }
            ]
        },
        {
            name: "Marlene Windmiller",
            awardContent: [
                {
                    year: 2023,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2022,
                    awards: [
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2021,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2020,
                    awards: [
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2018,
                    awards: [
                        "Top 10 Life Premiums Award #2"
                    ]
                },
                {
                    year: 2016,
                    awards: [
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2015,
                    awards: [
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club",
                        "New Agent of the Year"
                    ]
                }
            ]
        },
        {
            name: "Elizabeth Torres",
            awardContent: [
                {
                    year: 2023,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2022,
                    awards: [
                        "President’s Council",
                        "Executive Club",
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2021,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2020,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2018,
                    awards: [
                        "Leader’s Club",
                        "Top 10 Life Premiums Award #4"
                    ]
                },
                {
                    year: 2017,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2016,
                    awards: [
                        "Executive Club",
                        "Leader’s Club",
                        "New Agent of the Year"
                    ]
                }
            ]
        },
        {
            name: "Lorenzo Marini",
            awardContent: [
                {
                    year: 2023,
                    awards: [
                        "Leader’s Club"
                    ]
                },
                {
                    year: 2022,
                    awards: [
                        "Leader’s Club"
                    ]
                }
            ]
        }
    ];
        
        const devices = {
            "mobile-L": {size: 425, pills: 2},
            "tablet": {size: 768, pills: 5},
            "laptop": {size: 1024, pills: 7},
            "laptop-L": {size: 1440, pills: 7},
            "laptop-xxL": {size: 1800, pills: 7},
            "4k": {size: 2560, pills: 7},
            "8k": {size: 7680, pills: 7}
        };

        const getDeviceWidth = () => window.innerWidth;

        const deviceInfo = () => {
            const width = getDeviceWidth();
            return Object.values(devices).find((value) => {
                if(width <= value.size){
                    return value;
                }
            });
        }

        const createPills = (person, active) => {
            const pillsHtml = `
                <li class="nav-item pill_one ${active ? 'active': '' }">
                    ${person.name}
                </li>
            `;
            return pillsHtml;
        }

        const getActiveCards = (index) => {
            const activePill = document.querySelector('#myPills .active');
            const activePillIndex = Array.from(pills).indexOf(activePill);
            const activeCards = document.querySelectorAll(`[data-id="person-${activePillIndex}"]`);
            return {activeCards, activePillIndex, activePill}
        }

        const createCardContent = (person, index) => {
            const {awardContent} = person;
            let cards = '';

            for (const award of awardContent) {
                const {year, awards} = award;

                cards += `
                    <div class="card-one abc hidden" data-id=${`person-${index}`}>
                        <div class="content-timeline-header">
                            <div class="Ari-Logo">
                                <img src="//images.squarespace-cdn.com/content/v1/663e2b02a43cb466ff6b048f/1715350280547-KESLMM3XUZOX7B8Z54R6/ARI-Lion_Orange.png?format=1500w" alt="Image Description" style="height: 65px; width: 65px;">
                            </div>
                            <div class="timeline-year" style="font-weight: 700;">
                                ${year}
                            </div>
                        </div>
                        <div class="" id="content-timeline">
                            <div class="line"></div>
                            ${ awards.map((award) => {
                                return `
                                    <div class="timeline-container">
                                        <div class="circle"></div>
                                        <span class="timeline-text" id="award-name">${award}</span>
                                    </div> `
                                }).join('')
                            }                      
                        </div>
                    </div>
                `;
            }
            return cards;
        }

        const backArrow = document.querySelector('#chevron_left');
        const nextArrow = document.querySelector('#chevron_right');
        const buttonShowMore = document.querySelector('#button-show-more');
        const activeCardsLimit = 3;
        let dynamicIndex = 0;

        backArrow.addEventListener('click', () => increseOrDecrease('decrease'));
        nextArrow.addEventListener('click', () => increseOrDecrease('increase'));
        buttonShowMore.addEventListener('click', () => {
            const newActiveCards= document.querySelectorAll(`[data-id="person-${dynamicIndex}"]`);
            newActiveCards.forEach((card) => {
                card.classList.remove('hidden');
            });
            buttonShowMore.classList.add('hidden');
        });

        for (let i = 0; i < people.length; i++) {
            const person = people[i];

            const pillsContainer = document.querySelector('#myPills');
            pillsContainer.innerHTML += createPills(person, i === 0);

            const personContent = document.querySelector('#timeline');
            personContent.innerHTML += createCardContent(person, i);
            if (i === 0) {
                const activeCards = document.querySelectorAll(`[data-id="person-${i}"]`);
                [...activeCards].slice(0, 3).forEach((card) => {
                    card.classList.remove('hidden');
                });
                buttonShowMore.classList.remove('hidden');
            }
        }

        const pills = document.querySelectorAll('#myPills .nav-item');

        const activePills = Array.from(pills).slice(0, deviceInfo().pills);
        activePills.forEach((pill) => {
            pill.classList.add('layout-active');
            pill.addEventListener('click', (e)=>{
                const {activeCards, activePill} = getActiveCards();
                activePill.classList.remove('active');
                activeCards.forEach((card) => {
                    card.classList.add('hidden');
                });
                e.target.classList.add('active');
                const findIndex = Array.from(pills).indexOf(e.target);
                dynamicIndex = findIndex;
                const newActiveCards = document.querySelectorAll(`[data-id="person-${findIndex}"]`);
                [...newActiveCards].slice(0, 3).forEach((card) => {
                    card.classList.remove('hidden');
                });
                if (newActiveCards.length > activeCardsLimit) {
                    buttonShowMore.classList.remove('hidden');
                }else{
                    buttonShowMore.classList.add('hidden');
                }
            })

        });

        const pillsLayout = new Set(activePills);
        const layoutAmount = pillsLayout.size;

        window.addEventListener('resize', () => {
            const pills = document.querySelectorAll('#myPills .nav-item');
            pills.forEach((pill) => {
                pill.classList.remove('layout-active');
            });
            const newActivePills = Array.from(pills).slice(0, deviceInfo().pills);
            newActivePills.forEach((pill) => {
                pill.classList.add('layout-active');
            });
            pillsLayout.clear();
            pillsLayout.add(newActivePills);
        });

        const increseOrDecrease = (action) => {
            const {activeCards, activePillIndex, activePill} = getActiveCards()

            if(action === 'increase'){
                if(activePillIndex < pills.length - 1){
                    activePill.classList.remove('active');
                    activeCards.forEach((card) => {
                        card.classList.add('hidden');
                    });

                    pills[activePillIndex + 1].classList.add('active');
                    pillsLayout.add(pills[activePillIndex + 1]);
                    const newActiveCards = document.querySelectorAll(`[data-id="person-${activePillIndex + 1}"]`);
                    
                    [...newActiveCards].slice(0, 3).forEach((card) => {
                        card.classList.remove('hidden');
                    });
                    if (newActiveCards.length > activeCardsLimit) {
                        buttonShowMore.classList.remove('hidden');
                    }else{
                        buttonShowMore.classList.add('hidden');
                    }
                    backArrow.classList.remove('disabled-arrow');
                    dynamicIndex = activePillIndex + 1
                }
                if (activePillIndex === pills.length - 2){
                    nextArrow.classList.add('disabled-arrow');
                }                   
            } else {
                if(activePillIndex > 0){
                    activePill.classList.remove('active');
                    activeCards.forEach((card) => {
                        card.classList.add('hidden');
                    });

                    pills[activePillIndex - 1].classList.add('active');
                    pillsLayout.add(pills[activePillIndex - 1]);
                    const newActiveCards = document.querySelectorAll(`[data-id="person-${activePillIndex - 1}"]`);
                    
                    [...newActiveCards].slice(0, 3).forEach((card) => {
                        card.classList.remove('hidden');
                    });
                    if (newActiveCards.length > activeCardsLimit) {
                        buttonShowMore.classList.remove('hidden');
                    }else{
                        buttonShowMore.classList.add('hidden');
                    }
                    nextArrow.classList.remove('disabled-arrow');
                    dynamicIndex = activePillIndex - 1
                }
                if (activePillIndex === 1){
                    backArrow.classList.add('disabled-arrow')
                }
            }

            if(pillsLayout.size > layoutAmount){
                const [firstPill] = pillsLayout;
                pillsLayout.delete(firstPill);
            }

            pills.forEach((pill) => {
                if(!pillsLayout.has(pill)){
                    pill.classList.remove('layout-active');
                }
            });

            Array.from(pillsLayout).forEach((pill, index) => {
                pill.classList.add('layout-active');
            });
        }
    </script>


    </body>


</html>